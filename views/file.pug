extends layout

block content
  section
    button.btn.btn-primary(type='button', data-toggle='modal', data-target='#thisModal' style='float:right;margin-right:70px' ) Add File Movement
  .container(style='margin-top:20px')
    .col-lg-12(style='width:95%')
      .card
       .card-header
          h3(style='color: black; font-weight: 400;')
              i.flaticon-question
              |&nbsp;&nbsp; Files Movement Record of File No : #{file.fileId}
       .card-body
         #fileList
           input.search(placeholder='Search here' style='margin-left:2px')
           input(type='hidden' id='total' value=movement.length)
           table.table
             thead
               tr
                 th(style='width:33%') Moved From
                 th(style='width:33%') Moved To
                 th(style='width:34%') Moved On
             tbody.list
               if movement.length == 0
                tr
                 td(colspan='4', style='text-align:center')
                  strong No file movement to display
               else
                each move, index in movement
                   tr
                     td.from
                       strong #{move.from}
                     td.to
                       strong #{move.to}
                     td.on
                       strong #{move.movedOn}

  #thisModal.modal.fade.text-left(tabindex='-1', role='dialog', aria-labelledby='exampleModalLabel', aria-hidden='true')
     .modal-dialog(role='document')
       .modal-content
         .modal-header
           h4#exampleModalLabel.modal-title Add a New file
           button.close(type='button', data-dismiss='modal', aria-label='Close')
             span(aria-hidden='true') Ã—
         .modal-body
           form(method='post', action='/file/update/'+file._id)
             .form-group
               label From
               input.form-control(type='text' name='from' placeholder='File Moved From..' required)
             .form-group
               label To
               input.form-control(type='text' name='to' placeholder='File moved to..' required)
             .form-group
               label File Moved on
               input.form-control(type='date' name='movedOn' required) 
             .form-group
               input.btn.btn-primary(type='submit', value='Submit' Style='float:right') 
    
block scripts
  script(src='/js/list.min.js')
  script.
    var total = document.getElementById('total').value;
    var options = {
      valueNames: [ 'from' , 'to', 'movedOn']
    };
    var fileList = new List('fileList', options); 